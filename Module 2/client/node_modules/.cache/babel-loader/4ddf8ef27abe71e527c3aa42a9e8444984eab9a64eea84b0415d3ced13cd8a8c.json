{"ast":null,"code":"var _jsxFileName = \"D:\\\\BRAC university\\\\CSE\\\\CSE471\\\\Module 2\\\\client\\\\src\\\\components\\\\LocationsMap.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\n// Fix Leaflet icon issue\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png',\n  iconUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png',\n  shadowUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png'\n});\nconst LocationsMap = ({\n  items,\n  mapId\n}) => {\n  _s();\n  useEffect(() => {\n    // Default position (Dhaka, Bangladesh)\n    const defaultPosition = [23.8103, 90.4125];\n\n    // Calculate center based on items\n    let center = defaultPosition;\n    let zoom = 10;\n    if (items && items.length > 0 && items[0].location) {\n      if (items.length === 1) {\n        center = [items[0].location.lat, items[0].location.lng];\n        zoom = 13;\n      } else {\n        // Calculate average of all locations\n        const sumLat = items.reduce((sum, item) => sum + (item.location ? item.location.lat : 0), 0);\n        const sumLng = items.reduce((sum, item) => sum + (item.location ? item.location.lng : 0), 0);\n        center = [sumLat / items.length, sumLng / items.length];\n      }\n    }\n\n    // Create map instance\n    const map = L.map(mapId).setView(center, zoom);\n\n    // Add tile layer\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n    }).addTo(map);\n\n    // Add markers for each item\n    if (items && items.length > 0) {\n      items.forEach(item => {\n        if (item.location && item.location.lat && item.location.lng) {\n          const marker = L.marker([item.location.lat, item.location.lng]).addTo(map);\n\n          // Add popup with item details\n          marker.bindPopup(`\n            <div>\n              <h3>${item.name}</h3>\n              <p>${item.description}</p>\n              <p>Added on: ${new Date(item.date).toLocaleDateString()}</p>\n              <p><strong>Coordinates:</strong> ${item.location.lat.toFixed(6)}, ${item.location.lng.toFixed(6)}</p>\n            </div>\n          `);\n        }\n      });\n    }\n\n    // Cleanup\n    return () => {\n      map.remove();\n    };\n  }, [items, mapId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: mapId,\n    style: {\n      width: '100%',\n      height: '500px'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 10\n  }, this);\n};\n_s(LocationsMap, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = LocationsMap;\nexport default LocationsMap;\nvar _c;\n$RefreshReg$(_c, \"LocationsMap\");","map":{"version":3,"names":["React","useEffect","L","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","LocationsMap","items","mapId","_s","defaultPosition","center","zoom","length","location","lat","lng","sumLat","reduce","sum","item","sumLng","map","setView","tileLayer","attribution","addTo","forEach","marker","bindPopup","name","description","Date","date","toLocaleDateString","toFixed","remove","id","style","width","height","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/BRAC university/CSE/CSE471/Module 2/client/src/components/LocationsMap.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\n// Fix Leaflet icon issue\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png',\n  iconUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png',\n  shadowUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png',\n});\n\nconst LocationsMap = ({ items, mapId }) => {\n  useEffect(() => {\n    // Default position (Dhaka, Bangladesh)\n    const defaultPosition = [23.8103, 90.4125];\n    \n    // Calculate center based on items\n    let center = defaultPosition;\n    let zoom = 10;\n    \n    if (items && items.length > 0 && items[0].location) {\n      if (items.length === 1) {\n        center = [items[0].location.lat, items[0].location.lng];\n        zoom = 13;\n      } else {\n        // Calculate average of all locations\n        const sumLat = items.reduce((sum, item) => sum + (item.location ? item.location.lat : 0), 0);\n        const sumLng = items.reduce((sum, item) => sum + (item.location ? item.location.lng : 0), 0);\n        center = [sumLat / items.length, sumLng / items.length];\n      }\n    }\n    \n    // Create map instance\n    const map = L.map(mapId).setView(center, zoom);\n    \n    // Add tile layer\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n    }).addTo(map);\n    \n    // Add markers for each item\n    if (items && items.length > 0) {\n      items.forEach(item => {\n        if (item.location && item.location.lat && item.location.lng) {\n          const marker = L.marker([item.location.lat, item.location.lng]).addTo(map);\n          \n          // Add popup with item details\n          marker.bindPopup(`\n            <div>\n              <h3>${item.name}</h3>\n              <p>${item.description}</p>\n              <p>Added on: ${new Date(item.date).toLocaleDateString()}</p>\n              <p><strong>Coordinates:</strong> ${item.location.lat.toFixed(6)}, ${item.location.lng.toFixed(6)}</p>\n            </div>\n          `);\n        }\n      });\n    }\n    \n    // Cleanup\n    return () => {\n      map.remove();\n    };\n  }, [items, mapId]);\n  \n  return <div id={mapId} style={{ width: '100%', height: '500px' }}></div>;\n};\n\nexport default LocationsMap;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,CAAC,MAAM,SAAS;AACvB,OAAO,0BAA0B;;AAEjC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,OAAOF,CAAC,CAACG,IAAI,CAACC,OAAO,CAACC,SAAS,CAACC,WAAW;AAC3CN,CAAC,CAACG,IAAI,CAACC,OAAO,CAACG,YAAY,CAAC;EAC1BC,aAAa,EAAE,gEAAgE;EAC/EC,OAAO,EAAE,6DAA6D;EACtEC,SAAS,EAAE;AACb,CAAC,CAAC;AAEF,MAAMC,YAAY,GAAGA,CAAC;EAAEC,KAAK;EAAEC;AAAM,CAAC,KAAK;EAAAC,EAAA;EACzCf,SAAS,CAAC,MAAM;IACd;IACA,MAAMgB,eAAe,GAAG,CAAC,OAAO,EAAE,OAAO,CAAC;;IAE1C;IACA,IAAIC,MAAM,GAAGD,eAAe;IAC5B,IAAIE,IAAI,GAAG,EAAE;IAEb,IAAIL,KAAK,IAAIA,KAAK,CAACM,MAAM,GAAG,CAAC,IAAIN,KAAK,CAAC,CAAC,CAAC,CAACO,QAAQ,EAAE;MAClD,IAAIP,KAAK,CAACM,MAAM,KAAK,CAAC,EAAE;QACtBF,MAAM,GAAG,CAACJ,KAAK,CAAC,CAAC,CAAC,CAACO,QAAQ,CAACC,GAAG,EAAER,KAAK,CAAC,CAAC,CAAC,CAACO,QAAQ,CAACE,GAAG,CAAC;QACvDJ,IAAI,GAAG,EAAE;MACX,CAAC,MAAM;QACL;QACA,MAAMK,MAAM,GAAGV,KAAK,CAACW,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,KAAKD,GAAG,IAAIC,IAAI,CAACN,QAAQ,GAAGM,IAAI,CAACN,QAAQ,CAACC,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;QAC5F,MAAMM,MAAM,GAAGd,KAAK,CAACW,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,KAAKD,GAAG,IAAIC,IAAI,CAACN,QAAQ,GAAGM,IAAI,CAACN,QAAQ,CAACE,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;QAC5FL,MAAM,GAAG,CAACM,MAAM,GAAGV,KAAK,CAACM,MAAM,EAAEQ,MAAM,GAAGd,KAAK,CAACM,MAAM,CAAC;MACzD;IACF;;IAEA;IACA,MAAMS,GAAG,GAAG3B,CAAC,CAAC2B,GAAG,CAACd,KAAK,CAAC,CAACe,OAAO,CAACZ,MAAM,EAAEC,IAAI,CAAC;;IAE9C;IACAjB,CAAC,CAAC6B,SAAS,CAAC,oDAAoD,EAAE;MAChEC,WAAW,EAAE;IACf,CAAC,CAAC,CAACC,KAAK,CAACJ,GAAG,CAAC;;IAEb;IACA,IAAIf,KAAK,IAAIA,KAAK,CAACM,MAAM,GAAG,CAAC,EAAE;MAC7BN,KAAK,CAACoB,OAAO,CAACP,IAAI,IAAI;QACpB,IAAIA,IAAI,CAACN,QAAQ,IAAIM,IAAI,CAACN,QAAQ,CAACC,GAAG,IAAIK,IAAI,CAACN,QAAQ,CAACE,GAAG,EAAE;UAC3D,MAAMY,MAAM,GAAGjC,CAAC,CAACiC,MAAM,CAAC,CAACR,IAAI,CAACN,QAAQ,CAACC,GAAG,EAAEK,IAAI,CAACN,QAAQ,CAACE,GAAG,CAAC,CAAC,CAACU,KAAK,CAACJ,GAAG,CAAC;;UAE1E;UACAM,MAAM,CAACC,SAAS,CAAC;AAC3B;AACA,oBAAoBT,IAAI,CAACU,IAAI;AAC7B,mBAAmBV,IAAI,CAACW,WAAW;AACnC,6BAA6B,IAAIC,IAAI,CAACZ,IAAI,CAACa,IAAI,CAAC,CAACC,kBAAkB,CAAC,CAAC;AACrE,iDAAiDd,IAAI,CAACN,QAAQ,CAACC,GAAG,CAACoB,OAAO,CAAC,CAAC,CAAC,KAAKf,IAAI,CAACN,QAAQ,CAACE,GAAG,CAACmB,OAAO,CAAC,CAAC,CAAC;AAC9G;AACA,WAAW,CAAC;QACJ;MACF,CAAC,CAAC;IACJ;;IAEA;IACA,OAAO,MAAM;MACXb,GAAG,CAACc,MAAM,CAAC,CAAC;IACd,CAAC;EACH,CAAC,EAAE,CAAC7B,KAAK,EAAEC,KAAK,CAAC,CAAC;EAElB,oBAAOX,OAAA;IAAKwC,EAAE,EAAE7B,KAAM;IAAC8B,KAAK,EAAE;MAAEC,KAAK,EAAE,MAAM;MAAEC,MAAM,EAAE;IAAQ;EAAE;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;AAC1E,CAAC;AAACnC,EAAA,CAvDIH,YAAY;AAAAuC,EAAA,GAAZvC,YAAY;AAyDlB,eAAeA,YAAY;AAAC,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}